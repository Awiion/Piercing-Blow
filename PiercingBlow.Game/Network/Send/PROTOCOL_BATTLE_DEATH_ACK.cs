using PiercingBlow.Commons.Model;
using PiercingBlow.Commons.Network;

namespace PiercingBlow.Game.Network.Send
{
    class PROTOCOL_BATTLE_DEATH_ACK : ServerPacket
    {
        FragInfo _fraginfo;
        public PROTOCOL_BATTLE_DEATH_ACK(FragInfo fraginfo)
        {
            _fraginfo = fraginfo;
        }
        public override void WriteImpl()
        {
            WriteC(_fraginfo.KillingType);
            WriteC(_fraginfo.Count);
            WriteC(_fraginfo.SlotId);
            WriteD(_fraginfo.WeaponId);
            WriteD(_fraginfo.X);
            WriteD(_fraginfo.Y);
            WriteD(_fraginfo.Z);
            WriteC(_fraginfo.Flag); //0xFF
            for (int i = 0; i < _fraginfo.Count; i++)
            {
                WriteB(new byte[] {
                0x03,
                0x11,
                0x00, 0x00, 0x00, 0x8c,
                0xf1, 0x6d, 0x40, 0x00,
                0xa0, 0x7d, 0x37, 0x7a,
                0x3f, 0x0a, 0xc0, 0x00
            });
                WriteB(new byte[] {
                0x01, 0x00,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x01, 0x00,0x00, 0x00,0x01, 0x00, 0x00, 0x00, 0x00, 0x00,
                0x00, 0x00, 0x01, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00,0x06, 0x00,0x00, 0x00, 0x00, 0x00
            });
            }
        }
    }
}
